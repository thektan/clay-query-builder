<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Demo: Clay Query Builder</title>

		<link
			rel="stylesheet"
			href="../node_modules/clay-css/lib/css/atlas.css"
		/>

		<script src="../dist/build/globals/query-builder.js"></script>
	</head>

	<body>
		<div id="app"></div>
		<script type="text/javascript">
			new metal.initialize({
				criteria: [
					{
						value: "user.jobTitle", // Used when translating into the query
						label: "jobTitle", // Displayed on the sidebar
						type: "string", // Determines which operators are available
						acceptedValues: [
							{
								label: "developer",
								value: "developer"
							},
							{
								label: "engineer",
								value: "engineer"
							}
						] // Will convert the value input into a select input
					},
					{
						value: "user.age",
						label: "age",
						type: "number",
						acceptedValues: null
					}
				],
				conjunctions: [
					{
						label: "and", // Button display text
						value: "and" // Value used for constructing the query
					},
					{
						label: "or",
						value: "or"
					}
				],
				operators: [
					{
						label: "equals",
						value: "eq",
						supportedTypes: ["boolean", "date", "number", "string"]
					},
					{
						label: "greater-than",
						value: "gt",
						supportedTypes: ["date", "number"]
					},
					{
						label: "greater than or equals",
						value: "gte",
						supportedTypes: ["date", "number"]
					},
					{
						label: "less-than",
						value: "lt",
						supportedTypes: ["date", "number"]
					},
					{
						label: "less-than-or-equals",
						value: "lte",
						supportedTypes: ["date", "number"]
					},
					{
						label: "contains",
						value: "contains",
						supportedTypes: ["string"]
					}
				],
				maxNesting: 6,
				canReorder: true,
				spritemap: "icons.svg",
				query: {
					conjunctionId: "and",
					items: [
						{
							conjunctionId: "or",
							items: [
								{
									criteriaId: "user.jobTitle",
									operatorId: "gt",
									value: "developer"
								},
								{
									criteriaId: "user.jobTitle",
									operatorId: "eq",
									value: "doctor"
								},
								{
									conjunctionId: "or",
									items: [
										{
											criteriaId: "user.jobTitle",
											operatorId: "gt",
											value: "developer"
										},
										{
											criteriaId: "user.jobTitle",
											operatorId: "eq",
											value: "doctor"
										},
										{
											conjunctionId: "or",
											items: [
												{
													criteriaId: "user.jobTitle",
													operatorId: "gt",
													value: "developer"
												},
												{
													criteriaId: "user.jobTitle",
													operatorId: "eq",
													value: "doctor"
												}
											]
										}
									]
								}
							]
						},
						{
							conjunctionId: "or",
							items: [
								{
									criteriaId: "user.age",
									operatorId: "eq",
									value: "developer"
								},
								{
									criteriaId: "user.age",
									operatorId: "eq",
									value: "developer"
								},
								{
									criteriaId: "user.age",
									operatorId: "eq",
									value: "developer"
								}
							]
						}
					]
				}
			},
			"app");
		</script>
	</body>
</html>
